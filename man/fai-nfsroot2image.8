.\"                                      Hey, EMACS: -*- nroff -*-
.TH ftar 8 "24 october 2011"
.\" Please adjust this date whenever revising the manpage.
.\"
.\" Some roff macros, for reference:
.\" .nh        disable hyphenation
.\" .hy        enable hyphenation
.\" .ad l      left justify
.\" .ad b      justify to both left and right margins
.\" .nf        disable filling
.\" .fi        enable filling
.\" .br        insert line break
.\" .sp <n>    insert n+1 empty lines
.\" for manpage-specific macros, see man(7)
.SH NAME
fai-nfsroot2image \- make a compressed image from the nfsroot
.SH SYNOPSIS
.B fai-nfsroot2image
.RI [ options ] " NFSROOT OUTPUT"
.SH DESCRIPTION
Create an image of the nfsroot. Currently, this image can only contain
a squashfs file system. You can use this image for booting a FAI
client without mounting the FAI nfsroot by NFS. Instead, the client
can fetch this image via http and use it as its root file system.

.SH OPTIONS
.TP
.B -B
Exclude the base.tar.xz file from the image. Instead You can put this
file into the basefiles subdirectory in your config space. 
.TP
.B -E
Do not exclude any files from the nfsroot.
.TP
.B -R
Remove the output file if it aready exists.
.TP
.B \-h
Show help.

.SH EXAMPLES
.br
Convert your nfsroot into a squashfs image:

   # fai-nfsroot2image /srv/fai/nfsroot nfsroot.squashfs

.SH NOTES
.br
You can put the nfsroot.squashfs file on a web server. Then add 
the following kernel parameter to the pxelinux.cfg file of your FAI
install client.

  fetch=http://1.2.3.4/path/to/nfsroot.squashfs

That way, you do not need the parameter nfsroot=/srv/fai/nfsroot any more.
For more information on the fetch feature see live-boot(7).

.br

This program is part of FAI (Fully Automatic Installation).  See the FAI manual
for more information on how to use ftar.  The FAI homepage is http://fai-project.org.

.SH AUTHOR
Thomas Lange <lange@informatik.uni-koeln.de>
